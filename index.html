<!DOCTYPE html>
<html>
<head>
  <title>Form Selector</title>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { font-family: Arial; padding: 20px; background: #f8f8f8; }
    .form-area { margin-top: 20px; background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    select, input, textarea, button { font-size: 16px; margin: 5px 0; padding: 8px; width: 100%; border-radius: 4px; border: 1px solid #ccc; }
    h2 { margin-bottom: 10px; }
    .section-title { font-weight: bold; margin-top: 20px; border-bottom: 1px solid #ccc; padding-bottom: 5px; color: #444; }
    .approval { display: flex; gap: 10px; margin-top: 10px; }
    table.dataTable thead th { background-color: #eee; }
    .popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      z-index: 1000;
      width: 400px;
    }
    .popup h3 { margin-top: 0; }
    .popup .close-btn {
      float: right;
      cursor: pointer;
      color: #aaa;
    }
    .popup .close-btn:hover {
      color: red;
    }
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      display: none;
      z-index: 999;
    }
  </style>
</head>
<body>
  <h2><i class="fa-solid fa-clipboard-list"></i> Select a Form</h2>
  <label for="formSelect">Choose form:</label>
  <select id="formSelect">
    <option value="">--Select--</option>
    <option value="A">New Supplier Request</option>
    <option value="B">Customer Account (Site Creation)</option>
    <option value="C">Other</option>
  </select>

  <div class="form-area" id="formArea"></div>

  <h2><i class="fa-solid fa-clock-rotate-left"></i> Previous Requests</h2>
  <table id="requestsTable" class="display" style="width:100%">
    <thead>
      <tr>
        <th>Request ID</th>
        <th>Type</th>
        <th>Status</th>
        <th>Requester</th>
        <th>Manager</th>
        <th>Date</th>
      </tr>
    </thead>
    <tbody>
      <tr data-details='{"id":"REQ001","type":"New Supplier","status":"Approved","requester":"Mohamed","manager":"Ali","date":"2024-06-01"}'><td class="clickable">REQ001</td><td>New Supplier</td><td>Approved</td><td>Mohamed</td><td>Ali</td><td>2024-06-01</td></tr>
      <tr data-details='{"id":"REQ002","type":"Customer Account","status":"Rejected","requester":"Mohamed","manager":"Ali","date":"2024-06-15"}'><td class="clickable">REQ002</td><td>Customer Account</td><td>Rejected</td><td>Mohamed</td><td>Ali</td><td>2024-06-15</td></tr>
      <tr data-details='{"id":"REQ003","type":"Other","status":"Pending","requester":"Mohamed","manager":"Hassan","date":"2024-07-01"}'><td class="clickable">REQ003</td><td>Other</td><td>Pending</td><td>Mohamed</td><td>Hassan</td><td>2024-07-01</td></tr>
      <tr data-details='{"id":"REQ004","type":"New Supplier","status":"Not Approved","requester":"Mohamed","manager":"Omar","date":"2024-07-20"}'><td class="clickable">REQ004</td><td>New Supplier</td><td>Not Approved</td><td>Mohamed</td><td>Omar</td><td>2024-07-20</td></tr>
    </tbody>
  </table>

  <div class="overlay" id="overlay"></div>
  <div class="popup" id="popup">
    <span class="close-btn" id="closePopup">&times;</span>
    <h3>Request Details</h3>
    <div id="popupContent"></div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script>
    $(document).ready(function() {
      $('#requestsTable').DataTable();

      $('.clickable').on('click', function() {
        const row = $(this).closest('tr');
        const details = row.data('details');
        let html = `
          <p><strong>ID:</strong> ${details.id}</p>
          <p><strong>Type:</strong> ${details.type}</p>
          <p><strong>Status:</strong> ${details.status}</p>
          <p><strong>Requester:</strong> ${details.requester}</p>
          <p><strong>Manager:</strong> ${details.manager}</p>
          <p><strong>Date:</strong> ${details.date}</p>
        `;
        $('#popupContent').html(html);
        $('#overlay').fadeIn();
        $('#popup').fadeIn();
      });

      $('#closePopup, #overlay').on('click', function() {
        $('#overlay').fadeOut();
        $('#popup').fadeOut();
      });
    });
  </script>
</body>
</html>
